"use strict";window.onload=function(){var o=getURLParams();console.log(o),$.ajax({type:"POST",url:APIURL+"/v1/primWork/studentHomepage",dataType:"json",data:{token:o.token,studentId:o.studentId},async:!1,success:function(a){console.log(a),99999===a.code&&($(".childinfo .avator").attr("src",a.data.headPhoto),$(".childinfo h2").html(a.data.username+"小朋友"),$(".childinfo .grade").html("编程"+a.data.abilityLevel+"级"),$(".childinfo .grade").addClass("grade"+a.data.abilityLevel),$(".workCount").html(a.data.workCount),$(".totalPraiseScore").html(a.data.totalPraiseScore))},error:function(a,t,o){}}),$.ajax({type:"POST",url:APIURL+"/v1/primWork/getStudentWorks",dataType:"json",data:{token:o.token,studentId:o.studentId,lastId:0,num:-1},async:!1,success:function(a){if(console.log(a),99999===a.code){for(var t="",o=0;o<a.data.length;o++)a.data[o].workImage?t+='<div class="onework" workId='+a.data[o].workId+'><div class="oneworki"><div class="onework-title">'+a.data[o].workName+'</div><img src="'+a.data[o].workImage+'" alt="课程头图"><div class="onework-text">点赞量：'+a.data[o].praiseScore+'</div> <div class="onework-text">日期：'+a.data[o].createTime.split(" ")[0]+"</div> </div></div>":t+='<div class="onework" workId='+a.data[o].workId+'><div class="oneworki"><div class="onework-title">'+a.data[o].workName+'</div><img src="https://appd.knowbox.cn/scratch3/images/init_headerImg.jpg" alt="课程头图"><div class="onework-text">点赞量：'+a.data[o].praiseScore+'</div> <div class="onework-text">日期：'+a.data[o].createTime.split(" ")[0]+"</div> </div></div>";$(".allworks").html(t)}},error:function(a,t,o){}}),$(".question").on("click",function(){$(".answer").toggle()}),$(".allworks").on("click",".onework",function(){var a=$(this).attr("workId"),t=window.shareIP+"?fullscreen=true&token="+o.token+"&workId="+a;window.location.href=t}),$(".backBtn").on("click",function(){window.history.go(-1)})};